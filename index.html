<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCG Sandbox</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>

<body>
    <div id="app-container">
        <!-- Landing Page Section -->
        <section id="landing-page" class="page active-page">
            <header>
                <h1>TCG Sandbox </h1>
            </header>
            <footer>
                <p class="instructions">
                    Welcome! <br>
                    <br>
                    Enter your name, then host a new game or join an existing one.<br>
                    No game rules are enforced. Manage everything manually with your friends.<br>
                    <br>
                    May fate be in your hands!
                </p>
            </footer>
            <main>
                <div class="input-group">
                    <label for="playerNameInput">Enter Your Display Name:</label>
                    <input type="text" id="playerNameInput" value="Player X">
                </div>
                <button id="hostGameButton">Host New Game</button>
                <div class="join-game-form">
                    <h3>Join Existing Game</h3>
                    <div class="input-group">
                        <label for="gameCodeInput">Enter Game Code:</label>
                        <input type="text" id="gameCodeInput">
                    </div>
                    <button id="joinGameButton">Join Game</button>
                </div>
            </main>
            <footer>

            </footer>
        </section>

        <!-- Lobby / Pre-Game Setup Section -->
        <section id="lobby-page" class="page active-page">
            <header>
                <h1>Game Lobby
                </h1>
                <div id="sessionInfo">
                    <p>Game Code: <strong id="gameCodeDisplay">---</strong></p>
                    <p>Share this link: <input type="text" id="shareLinkDisplay" readonly value="---"></p>
                </div>
            </header>
            <main class="lobby-main-content">
                <div id="playerManagementArea">
                    <h2>Players in Lobby (<span id="playerCountDisplay">0</span>/<span
                            id="maxPlayerCountDisplay">4</span>)</h2>
                    <!-- Max players might be dynamic or set elsewhere -->
                    <ul id="playerList">
                        <!-- Player items will be added here by JS -->
                    </ul>
                </div>

                <div id="deckUploadSection">
                    <h2>Your Deck <span id="deckStatusIndicator">(Awaiting Upload)</span></h2>
                    <div id="deckUploadArea" class="deck-upload-controls">
                        <p>Upload your deck (all images should be card faces):</p>
                        <div class="deck-upload-options">
                            <div class="upload-method">
                                <label for="zipUploadInput" class="upload-button-label">Upload .ZIP File</label>
                                <input type="file" id="zipUploadInput" accept=".zip" style="display: none;">
                            </div>
                            <div class="upload-method">
                                <label for="batchImageUploadInput" class="upload-button-label">Upload Batch
                                    Images</label>
                                <input type="file" id="batchImageUploadInput"
                                    accept="image/png, image/jpeg, image/jpg, image/webp, image/gif, image/svg+xml, image/bmp, image/tiff, image/ico, image/heic, image/heif, image/avif"
                                    multiple style="display: none;">
                            </div>
                        </div>
                        <div id="dropZone" class="drop-zone">
                            <p>Or Drag & Drop .ZIP or Image Files Here</p>
                        </div>
                    </div>

                    <div id="deckPreviewContainer">
                        <h3>Deck Preview (<span id="cardCountDisplay">0</span> cards)</h3>
                        <div id="deckPreviewArea" class="deck-preview-grid">
                            <p class="placeholder-text">No cards uploaded yet. Uploaded card thumbnails will appear
                                here.</p>
                        </div>
                    </div>
                    <button id="confirmDeckButton" class="action-button" disabled>Confirm Deck</button>
                    <button id="clearDeckButton" class="action-button secondary-button" style="display: none;">Upload
                        Different Deck</button>
                    <button id="startGameButton" class="action-button" disabled>Start Game (Host Only)</button>
                </div>
            </main>
            <footer>

            </footer>
        </section>
        <!-- Game Board Section -->
        <section id="game-board-page" class="page">
            <header>
                <h1>TCG Sandbox</h1>
                <div id="gameInfo">
                    <p>Game Code: <span id="boardGameCodeDisplay"></span></p>
                    <button id="prev-bg" class="bg-control-button" title="Previous Background">←</button>
                    <label class="bg-label">Background</label>
                    <button id="next-bg" class="bg-control-button" title="Next Background">→</button>
                    <div class="game-controls">
                        <div class="control-group">
                            <label for="previewZoomSlider">Zoom:</label>
                            <input type="range" id="previewZoomSlider" min="1" max="3" step="0.1" value="1.8">
                            <span id="previewZoomValue">1.8x</span>
                        </div>
                        <div class="control-group">
                            <label for="cardSizeSlider">Card Size:</label>
                            <input type="range" id="cardSizeSlider" min="0.5" max="1.5" step="0.1" value="1">
                            <span id="cardSizeValue">100%</span>
                        </div>
                        <button id="fullscreenButton" class="action-button" title="Toggle Fullscreen">⛶</button>
                        <button id="leaveGameButton" class="action-button secondary-button">Leave Game</button>
                    </div>
                </div>
            </header>
            <main id="game-table">
                <!-- Player areas will be dynamically generated here -->
            </main>
            <footer>
                <p>Game in progress. All actions are manual.</p>
            </footer>
        </section>
    </div>
    <script src="script.js"></script>
</body>

</html>